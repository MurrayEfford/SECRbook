# Simulation {#Simulation}

## Population
\index{Simulation!population}

`sim.popn(D, core, buffer = 100, model2D = c("poisson", "cluster", 
    "IHP", "coastal", "hills", "linear", "even", "rLGCP", "rThomas"), 
    buffertype = c("rect", "concave", "convex"), poly = NULL, 
    covariates = list(sex = c(M = 0.5, F = 0.5)), number.from = 1, 
    Ndist = c("poisson", "fixed", "specified"), nsessions = 1, 
    details = NULL, seed = NULL, keep.mask = model2D %in% c("IHP", 
        "linear"), Nbuffer = NULL, age = FALSE, ...)` 
        
### Inhomogeneous Poisson populations

A specialised use of [masks](#Habitat) arises in `sim.popn` when simulating populations with an arbitrary non-uniform distribution of individuals (`model2D = "IHP"`). Then the argument 'core' should be a habitat mask; cell-specific density (expected number of individuals per hectare) may be given either in a covariate of the mask as named in argument 'D' or as a vector of values in argument 'D'. The covariate option allows you to simulate from a fitted Dsurface (output from `predictDsurface`).

## Detection
\index{Simulation!detection}

`sim.capthist`

## **secrdesign**
\index{Simulation!model fitting}

[invalid replicates]
